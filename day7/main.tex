
\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage{expl3}

\ExplSyntaxOn
\begin{document}
\cs_new:Npn \Hello #1
    { \prg_replicate:nn {#1}{Hello~World} }

\ior_open:Nn \g_tmpa_ior{test.txt}

\cs_set:Npn \my_split:n #1 {
    \par param ~ #1
    \regex_split:nnN {~} {#1} \l_split_seq
    \par first ~ \seq_item:Nn \l_split_seq {1}
    \par len ~ \seq_count:N \l_split_seq
}

\int_set:Nn \l_tmpa_int {0}
\int_do_while:nNnn{\l_tmpa_int} < {10} {
    \ior_str_get:NN \g_tmpa_ior \l_line_str

    \regex_replace_all:nnN {\$} {a} \l_line_str
    % \regex_replace_all:nnN {~} {POO} \l_line_str
    \par \tl_use:N \l_line_str

    \my_split:n {\l_line_str}

    % \regex_split:nnN 
    %\regex_match:nnTF \l_cn_regex {} {
    %    \par yes
    %}
    %{
    %    \par no
    %}
    \par\l_line_str
    \int_incr:N {\l_tmpa_int}
}

\ior_close:N \g_tmpa_ior

\end{document}

\ExplSyntaxOff
